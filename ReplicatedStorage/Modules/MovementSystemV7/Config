-- UPDATED: Config.txt — removed wall-cling + vault configs, kept all other settings

-- All parkour system variables in one place
-- Game.ReplicatedStorage.Modules.MovementSystemV7.Config (this is a module script)

local Config = {}
-- Movement Speeds
Config.BaseSpeed = 20
Config.RunningSpeed = 30
Config.BaseJumpHeight = 6.65
Config.RunningJumpHeight = 5

-- Dash Settings
Config.DashSpeed = 55
Config.SideDashDuration = 0.3
Config.FrontDashDuration = 0.3
Config.BackDashDuration = 0.3
Config.DashCooldown = 1

-- Dash collision → wall attach tuning
Config.DashCollisionProbe = 6        -- how far ahead to check during dash
Config.DashStopBuffer = 0.6          -- tiny cushion to avoid tunneling

-- Auto-attach orientation thresholds
Config.RunFacingDotThreshold = 0.1   -- CHANGED from 0.35 for testing

-- Air Jump Settings
Config.AirJumpPower = 50
Config.AirJumpLength = 0.15
Config.AirJumpCooldown = .30
Config.AirJumpUses = 2

-- Wall Run Settings
Config.WallRunSpeed = 40
Config.WallRunDuration = 10
Config.WallRunDecrease = .5
Config.WallRunDetectionRange = 6   -- Increased from 4 for better detection
Config.WallRunCooldown = 1
Config.WallRunLeapHorizontalPower = 45
Config.WallRunLeapVerticalPower = 40
Config.WallRunLeapForwardPower = 40
Config.WallRunUses = 4
Config.WallRunCoyote = 0.1            -- new: grace window after leaving ground

-- Wall-run break on looking away from the tangent (in addition to snap)
Config.WallRunLookAwaySoftDeg = 75   -- if camera looks away this much, halve side grace
Config.WallRunLookAwayHardDeg = 110  -- if camera looks away this much, break immediately

-- How long we tolerate missing rays before breaking the run
Config.WallRunSideMissGrace = 0.20   -- both side rays miss for this long → stop
Config.WallRunEdgeMissGrace = 0.12   -- center + ahead rays miss for this long → stop

-- Sector tuning (for wall run)
Config.SectorSlackDeg = 8              -- small tolerance at sector edges

-- Corner guard (prevents starting a run when both sides hit a corner)
Config.CornerGuard = {
	Enabled = true,
	NormalDiffDeg = 25,   -- if normals differ by this many degrees or more, treat as corner
	DistanceEpsilon = 1 -- if both side-hit distances are within this, treat them as "same distance"
}

-- Run wedge (centered on the side)
Config.RunSectorMinDeg  = 28           -- CHANGED from 38 for testing
Config.RunSectorMaxDeg  = 135          -- cap so we don't treat back walls as runnable


-- Tilt scaling & tuning
Config.Tilt = {
	-- strength
	SideMultiplier = .7,
	ForwardMultiplier = 1.8,

	-- state scaling
	WalkMultiplier = 0.5,
	SprintMultiplier = 1.5,

	-- responsiveness
	LerpSpeed = 10,
}

-- Sprint Settings (double-tap kept but unused if you're on hold-to-sprint)
Config.DoubleTapSprintThreshold = 0.25

-- Hitbox Settings
Config.Hitbox = {
	Enabled = true,
	Size = Vector3.new(4, 6, 4),
	Offset = Vector3.new(0, 0, 0),  -- Changed to center the hitbox on the character
	Visualize = false,
	RayLength = 10,  -- Increased from 6
	UseDiagonals = true,
	CollisionGroup = "Hitboxes",
	Presets = {
		Sprint = { Size = Vector3.new(4.2, 6, 4.2), Offset = Vector3.new(0, 0, 0.1) },
		Crouch = { Size = Vector3.new(4, 4.2, 4),   Offset = Vector3.new(0, -0.9, 0) },
	}
}

-- Keybinds
Config.Keybinds = {
	Sprint = Enum.KeyCode.LeftShift,
	Dash = Enum.KeyCode.Q,
	AirJump = Enum.KeyCode.Space,
	WallRun = Enum.KeyCode.Space,
}

-- Animation IDs (replace with your own)
Config.Animations = {
	Sprint = "rbxassetid://0",

	Dash = {
		Front = "rbxassetid://0",
		Back  = "rbxassetid://0",
		Left  = "rbxassetid://0",
		Right = "rbxassetid://0",
	},

	AirJump = "rbxassetid://0",

	WallRun = {
		Left = "rbxassetid://0",
		Right = "rbxassetid://0",
		LeapLeft = "rbxassetid://0",
		LeapRight = "rbxassetid://0",
	},

	Land = "rbxassetid://0",
}

-- Sound IDs (replace with your own)
Config.Sounds = {
	Dash = "rbxassetid://0",
	AirJump = "rbxassetid://0",
	WallRun = "rbxassetid://0",
	WallRunLeap = "rbxassetid://0",
}

-- Debug
Config.VisualizeRaycasts = true

-- Add this to your existing Config.lua file
-- Insert after the existing configs but before the final "return Config"

-- Tag Game Mode Settings
Config.Tag = {
	-- Round settings
	RoundDuration = 300,        -- 5 minutes max round time (seconds)
	MinPlayers = 2,            -- Minimum players needed to start a round

	-- Safety/immunity settings  
	SafeTime = 3,              -- Seconds of immunity after spawn/being tagged

	-- Performance settings
	HitboxCheckRate = 0.1,     -- How often to check overlaps (seconds) - 0.1 = 10 FPS

	-- Debug settings
	DebugMode = true,          -- Enable console debug messages

	-- Future expansion ready
	AllowSpectating = true,    -- Whether eliminated players can spectate
	RespawnOnTag = false,      -- Whether being tagged respawns you (for other modes)

	-- Scoring (for future leaderboards)
	PointsForTag = 10,         -- Points taggers get per tag
	PointsForSurvival = 1,     -- Points runners get per second survived
}


return Config
